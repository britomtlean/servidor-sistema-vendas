generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model cargo {
  id_cargo     Int    @id @default(autoincrement())
  cargo_cargos String @db.VarChar(50)
}

model funcionarios {
  id_funcionarios      Int      @id @default(autoincrement())
  nome_funcionarios    String   @db.VarChar(50)
  contato_funcionarios String   @db.VarChar(50)
  cargo_funcionarios   String   @db.VarChar(50)
  cpf_funcionarios     String   @unique @db.VarChar(50)
  vendas               vendas[]
}

model pagamentos {
  id_pagamentos        Int    @id @default(autoincrement())
  pagamento_pagamentos String @db.VarChar(50)
}

model produtos {
  id_produtos        Int               @id @default(autoincrement())
  produto_produtos   String            @db.VarChar(50)
  descricao_produtos String?           @db.VarChar(50)
  valor_produtos     Float             @default(0) @db.Float
  estoque_produtos   Int
  imagem_produtos    String?           @db.VarChar(80)
  vendas_produtos    vendas_produtos[]
}

model usuarios {
  id    Int    @id @default(autoincrement())
  nome  String @db.VarChar(50)
  cpf   String @unique(map: "cpf") @db.VarChar(50)
  senha String @db.VarChar(120)
}

model vendas {
  id_vendas             Int               @id @default(autoincrement())
  id_funcionario_vendas Int?
  data_vendas           DateTime          @default(now()) @db.DateTime(0)
  valorTotal_vendas     Float?            @db.Float
  status                Boolean?
  funcionarios          funcionarios?     @relation(fields: [id_funcionario_vendas], references: [id_funcionarios], onDelete: Cascade, map: "vendas_ibfk_1")
  vendas_produtos       vendas_produtos[]

  @@index([id_funcionario_vendas], map: "id_funcionario_vendas")
}

model vendas_produtos {
  id_vendas_produtos        Int      @id @default(autoincrement())
  id_venda                  Int
  id_produto                Int
  quantidade                Int
  valorTotal_vendasprodutos Float    @default(0) @db.Float
  valorUni                  Float    @default(0) @db.Float
  vendas                    vendas   @relation(fields: [id_venda], references: [id_vendas], onDelete: Cascade, map: "vendas_produtos_ibfk_1")
  produtos                  produtos @relation(fields: [id_produto], references: [id_produtos], onDelete: Cascade, map: "vendas_produtos_ibfk_2")

  @@index([id_produto], map: "id_produto")
  @@index([id_venda], map: "id_venda")
}
